/*
 * This file is part of INSPIRE.
 * Copyright (C) 2016 CERN.
 *
 * INSPIRE is free software; you can redistribute it and/or
 * modify it under the terms of the GNU General Public License as
 * published by the Free Software Foundation; either version 2 of the
 * License, or (at your option) any later version.
 *
 * INSPIRE is distributed in the hope that it will be useful, but
 * WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 * General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with INSPIRE; if not, write to the Free Software Foundation, Inc.,
 * 59 Temple Place, Suite 330, Boston, MA 02111-1307, USA.
 *
 * In applying this license, CERN does not
 * waive the privileges and immunities granted to it by virtue of its status
 * as an Intergovernmental Organization or submit itself to any jurisdiction.
 */
!function(e){e.module("inspirehepFacetsShowMore",["inspirehepFacetsShowMore.controllers"])}(angular),function(e){function r(e){e.decorator("invenioSearchAPI",["$delegate",function(e){var r=e.search;return e.search=function(e){return e.headers={Accept:"application/vnd+inspire.brief+json"},r(e)},e}])}r.$inject=["$provide"],e.module("inspirehepSearch.configuration",[]).config(r),e.module("inspirehepSearch",["invenioSearch","inspirehepFacetsShowMore","inspirehepSearch.filters","inspirehepSearch.configuration","ui.bootstrap","authors"])}(angular),function(e){e.module("authors",["ui.bootstrap","authors.directives","authors.controllers"])}(angular),function(e){e.module("inspirehepSearch.filters",["ngSanitize","inspirehepSearch.filters.abstract","inspirehepSearch.filters.arxiv","inspirehepSearch.filters.arxivInfo","inspirehepSearch.filters.capitalize","inspirehepSearch.filters.collaboration","inspirehepSearch.filters.corporateAuthor","inspirehepSearch.filters.date","inspirehepSearch.filters.datePassedNow","inspirehepSearch.filters.doi","inspirehepSearch.filters.publicationInfo","inspirehepSearch.filters.publicationInfoDoi","inspirehepSearch.filters.reportNumber","inspirehepSearch.filters.title"])}(angular),function(e){function r(e){function r(){e.facetResults=e.facetResults+e.step}function i(r){var i=e.vm.invenioSearchResults.aggregations[r].buckets.length-e.facetResults;return i<e.step?i:e.step}function n(){e.facetResults=10}e.facetResults=10,e.step=10,e.calculateStep=i,e.moreFacetResults=r,e.$on("invenio.search.success",n)}r.$inject=["$scope"],e.module("inspirehepFacetsShowMore.controllers",[]).controller("FacetsShowMoreController",r)}(angular),function(e){function r(){function e(){var e=[];if(void 0!==n.authors){for(var r=0;r<n.authors.length;r++)n.authors[r].full_name&&e.push(i(n.authors[r]));return e}}function r(e){var r=e.split(","),i=r.reverse();return i.join(" ")}function i(e){var r={};return r.full_name=e.full_name,void 0!==e.affiliations&&e.affiliations.length>0&&(r.affiliation=e.affiliations[0].value),r}var n=this;n.getAuthors=e,n.splitAuthorName=r,n.renderAuthorNames=i}r.$inject=["$scope"],e.module("authors.controllers",[]).controller("authorCtrl",r)}(angular),function(e){function r(){function e(e,r,i,n){""!==i.authors&&(n.authors=JSON.parse(i.authors)),""!==i.collaboration&&(n.collaboration=JSON.parse(i.collaboration)),n.numberOfAuthors=parseInt(i.numberOfAuthors),n.controlNumber=parseInt(i.controlNumber),n.AUTHORS_LIMIT=10,n.authorsInfo=n.getAuthors()}function r(e,r){return r.authorsTemplate}return{templateUrl:r,restrict:"E",controller:"authorCtrl",controllerAs:"vm",scope:!0,link:e}}e.module("authors.directives",[]).directive("authorsAffiliation",r)}(angular),function(e){function r(){return function(e){function r(e){return i[e]||e}if(void 0!==e){for(var i={"&":"&amp;","<":"&lt;",">":"&gt;"},n="",t=0;t<e.length;t++)"arXiv"!==e[t].source&&void 0!==e[t].value?n=e[t].value:void 0!==e[t].value&&(n=e[t].value);return n.replace(/[&<>]/g,r)}}}e.module("inspirehepSearch.filters.abstract",[]).filter("abstract",r)}(angular),function(e){function r(){return function(e){if(void 0!==e){for(var r="",i=0;i<e.length;i++){r=e[i].value;break}return r}}}e.module("inspirehepSearch.filters.arxiv",[]).filter("arxiv",r)}(angular),function(e){function r(){return function(e){if(void 0!==e){for(var r="",i="",n=0;n<e.length;n++)r='e-Print: <a href="http://arxiv.org/abs/'+e[n].value+'" >'+e[n].value+"</a>",e[n].categories&&(i="["+e[n].categories[0]+"]");return r+" "+i}}}e.module("inspirehepSearch.filters.arxivInfo",[]).filter("arxivInfo",r)}(angular),function(e){function r(){return function(e){return e?e.charAt(0).toUpperCase()+e.slice(1):""}}e.module("inspirehepSearch.filters.capitalize",[]).filter("capitalize",r)}(angular),function(e){function r(){return function(e,r){if(void 0!==e){var i=[],n="";if(!r)for(var t=0;t<e.length;t++)e[t].value&&i.push('<a href="/search?p=collaboration:'+e[t].value+'">'+e[t].value+"</a>");return 0!==i.length&&(n=i.join(" and ")+(i.length>1?" Collaborations":" Collaboration")),n}}}e.module("inspirehepSearch.filters.collaboration",[]).filter("collaboration",r)}(angular),function(e){function r(){return function(e,r){if(void 0!==e);else if(r)return r[0]}}e.module("inspirehepSearch.filters.corporateAuthor",[]).filter("corporateAuthor",r)}(angular),function(e){function r(){return function(e,r,i,n){return void 0===r&&void 0===i&&void 0===n?e:"- "+e}}e.module("inspirehepSearch.filters.date",[]).filter("date",r)}(angular),function(e){function r(){return function(e){var r=new Date,i=new Date(e);return i>=r}}e.module("inspirehepSearch.filters.datePassedNow",[]).filter("datePassedNow",r)}(angular),function(e){function r(){return function(e){if(void 0!==e){for(var r=[],i=0;i<e.length;i++)e[i].value&&r.push('<a href="http://dx.doi.org/'+e[i].value+'" title="DOI" >'+e[i].value+"</a>");return 0!==r.length?"DOI: "+r.join(", "):""}}}e.module("inspirehepSearch.filters.doi",[]).filter("doi",r)}(angular),function(e){function r(){return function(e){if(void 0!==e){var r="";return e.pub_info&&(r="Published in "+e.pub_info.join(" and ")),e.conf_info&&(r+=" "+e.conf_info),r}}}e.module("inspirehepSearch.filters.publicationInfo",[]).filter("publicationInfo",r)}(angular),function(e){function r(){return function(e,r){if(void 0!==e){var i="Published in ";return i+='<a href="http://dx.doi.org/'+e[0].value+'" title="DOI"><span class="text-left">'+r.pub_info[0]+"</span></a>",r.conf_info&&(i+=" "+r.conf_info),i}}}e.module("inspirehepSearch.filters.publicationInfoDoi",[]).filter("publicationInfoDoi",r)}(angular),function(e){function r(){return function(e){if(void 0!==e){for(var r=[],i=0;i<e.length;i++)e[i].value&&r.push(" "+e[i].value);return 0!==r.length?"Report number: "+r:""}}}e.module("inspirehepSearch.filters.reportNumber",[]).filter("reportNumber",r)}(angular),function(e){function r(){return function(e){if(void 0!==e){var r="";return void 0!==e.title&&(r=e.title,void 0!==e.subtitle&&(r+=" : "+e.subtitle)),r}}}e.module("inspirehepSearch.filters.title",[]).filter("title",r)}(angular);